@model WebLaptopNe.Models.user

@{
    ViewBag.Title = "Đăng Nhập";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="./img/logo-fold.png" sizes="180x180">
    <title>Đăng nhập</title>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <link href="~/Content/css/reset.css" rel="stylesheet" />
    <link href="~/Content/css/login.css" rel="stylesheet" />
</head>
<body>
    <div class="wrapper">
        <form method="post" action="@Url.Action("Login", "Login")" id="login-form">
            <div class="form-header">
                <a href="#" class="logo">
                    <img src="./img/logo-login.png" alt="" />
                </a>
                <p>ĐĂNG NHẬP</p>
            </div>
            <div class="form-main">
                <div class="form-group">
                    <p>TÀI KHOẢN</p>
                    <div class="form-field">
                        <input type="text" name="username" class="form-input" placeholder=" " required />
                        <label for="username" class="form-label">Tài khoản</label>
                    </div>
                </div>

                <div class="form-group">
                    <p>MẬT KHẨU</p>
                    <div class="form-field">
                        <input type="password" name="password" class="form-input" placeholder=" " required />
                        <label for="password" class="form-label">Mật khẩu</label>
                    </div>
                </div>

                <!-- Thông báo lỗi sẽ hiển thị ở đây nếu có -->
                <!-- Thông báo lỗi -->
                <div id="error-message" style="display: none; color: red; text-align: center;"></div>

                <!-- Thông báo thành công -->
                <div id="success-message" style="display: none; color: green; text-align: center;"></div>

                @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
                {
                    <div id="error-message-fallback" style="color: red; text-align: center;">
                        @Html.Raw(ViewBag.ErrorMessage)
                    </div>
                }

                @if (!string.IsNullOrEmpty(ViewBag.SuccessMessage))
                {
                    <div id="success-message-fallback" style="color: green; text-align: center;">
                        @Html.Raw(ViewBag.SuccessMessage)
                    </div>
                }


                <div class="form-footer">
                    <div class="option_field">
                        <a href="#" class="forgot-pw">Quên mật khẩu?</a>
                    </div>
                    <button type="submit" class="btn">Đăng nhập</button>
                </div>
                <div class="login_signup">
                    Bạn chưa có tài khoản?
                    <a href="@Url.Action("Register", "Login")" id="signup">Đăng kí ngay!</a>
                </div>
            </div>
        </form>

        <!-- Form Quên Mật Khẩu -->
        <form method="post" action="@Url.Action("ForgotPassword", "Login")" id="forgot-password-form" style="margin-top: 20px;">
            <div class="form-header">
                <p>QUÊN MẬT KHẨU</p>
            </div>
            <div class="form-main">
                <div class="form-group">
                    <p>EMAIL</p>
                    <div class="form-field">
                        <input type="email" name="email" class="form-input" placeholder=" " required />
                        <label for="email" class="form-label">Email</label>
                    </div>
                </div>
                <div class="form-footer">
                    <button type="submit" class="btn">Gửi mật khẩu</button>
                    <span id="back-to-login" style="cursor: pointer; color: blue;">Quay về đăng nhập</span>
                </div>
            </div>
        </form>
    </div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const forgotPasswordLink = document.querySelector(".forgot-pw");
        const loginForm = document.getElementById("login-form");
        const forgotPasswordForm = document.getElementById("forgot-password-form");
        const backToLoginLink = document.getElementById("back-to-login");

        // Ẩn form quên mật khẩu ban đầu
        forgotPasswordForm.style.display = "none";

        // Xử lý sự kiện khi nhấn vào "Quên mật khẩu?"
        forgotPasswordLink.addEventListener("click", function(e) {
            e.preventDefault(); // Ngừng hành động mặc định của liên kết

            // Ẩn form đăng nhập và hiển thị form quên mật khẩu
            loginForm.style.display = "none";
            forgotPasswordForm.style.display = "block";
        });

        backToLoginLink.addEventListener("click", function (e) {
            e.preventDefault(); // Ngừng hành động mặc định của liên kết

            // Hiển thị lại form đăng nhập và ẩn form quên mật khẩu
            loginForm.style.display = "block";
            forgotPasswordForm.style.display = "none";
        });
    });
</script>

</html>
